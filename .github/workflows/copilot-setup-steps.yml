name: Copilot Setup Steps

on:
  workflow_call:
  workflow_dispatch:
  pull_request:
    paths:
      - '.github/workflows/copilot-setup-steps.yml'

jobs:
  copilot-setup-steps:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      # TODO this will cause all of copilot agents Bash tool calls to silently hang (which it won't complain about)
      # - name: Install Nix
      #   uses: cachix/install-nix-action@v31
      #   with:
      #     nix_path: nixpkgs=channel:nixos-unstable
      # - uses: nicknovitski/nix-develop@v1

      # - name: Cache UV dependencies
      #   uses: actions/cache@v4
      #   with:
      #     path: |
      #       ~/.cache/uv
      #       .venv
      #     key: ${{ runner.os }}-uv-${{ hashFiles('uv.lock') }}
      #     restore-keys: |
      #       ${{ runner.os }}-uv-

      # - name: Install dependencies
      #   run: uv sync --extra dev
