# {{ job_name }}
#
# {{ job_summary }}
#
# Generated by DeepWork - do not edit manually

description = "{{ job_summary | replace('"', '\\"') }}"

prompt = """
# {{ job_name }}

You are executing the **{{ job_name }}** job. {{ job_summary }}

{% if job_description %}
{{ job_description }}
{% endif %}

## Available Steps

This job has {{ total_steps }} step(s):

{% for step in steps %}
### {{ step.id }}
**{{ step.name }}**: {{ step.description }}
- Command: `/{{ step.command_name }}`
{% if step.dependencies %}
- Requires: {{ step.dependencies | join(', ') }}
{% endif %}
{% endfor %}

## Instructions

Determine what the user wants to do and route to the appropriate step.

1. **Analyze user intent** from the text that follows `/{{ job_name }}`

2. **Match intent to a step**:
{% for step in steps %}
   - {{ step.id }}: {{ step.description }}
{% endfor %}

3. **Invoke the matched step**: Tell the user to run the appropriate command:
{% for step in steps %}
   - For {{ step.id }}: `/{{ step.command_name }}`
{% endfor %}

4. **If intent is ambiguous**, ask the user which step they want:
   - Present the available steps as numbered options
   - Let them choose

**Note**: Gemini CLI doesn't support programmatic command invocation, so guide the user to run the appropriate step command.

## Context Files

- Job definition: `.deepwork/jobs/{{ job_name }}/job.yml`
"""
