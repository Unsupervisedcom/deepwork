# {{ job_name }}
#
# {{ job_summary }}
#
# Generated by DeepWork - do not edit manually

description = "{{ job_summary | replace('"', '\\"') }}"

prompt = """
# {{ job_name }}

You are executing the **{{ job_name }}** job. {{ job_summary }}

{% if job_description %}
{{ job_description }}
{% endif %}

## Available Steps

This job has {{ total_steps }} step(s):

{% for step in steps %}
### {{ step.id }}
**{{ step.name }}**: {{ step.description }}
- Command: `/{{ step.command_name }}`
{% if step.dependencies %}
- Requires: {{ step.dependencies | join(', ') }}
{% endif %}
{% endfor %}

## Instructions

This is a **multi-step workflow**. Determine the starting point and guide the user through the steps in sequence.

1. **Analyze user intent** from the text that follows `/{{ job_name }}`

2. **Identify the starting step** based on intent:
{% for step in steps %}
   - {{ step.id }}: {{ step.description }}
{% endfor %}

3. **Guide the user through the workflow**:
   - Tell the user to run the starting step command
   - After each step completes, guide them to the next step in the workflow
   - Continue until the workflow is complete

   Step commands:
{% for step in steps %}
   - {{ step.id }}: `/{{ step.command_name }}`
{% endfor %}

4. **If intent is ambiguous**, ask the user which step to start from:
   - Present the available steps as numbered options
   - Let them choose

**Note**: Gemini CLI requires manual command invocation. After each step completes, remind the user to run the next step command.

## Context Files

- Job definition: `.deepwork/jobs/{{ job_name }}/job.yml`
"""
