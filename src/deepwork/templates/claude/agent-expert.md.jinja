{#
Template: agent-expert.md.jinja
Purpose: Generates an expert agent file for Claude Code

Template Variables:
  - expert_name: string - Expert identifier (e.g., "rails-activejob")
  - discovery_description: string - Short description for expert discovery
  - full_expertise: string - Complete expertise knowledge payload
  - has_workflows: bool - True if expert has workflows
  - workflows: list - Array of workflow info:
      - name: string - Workflow identifier
      - summary: string - Short workflow summary
      - step_count: int - Number of steps in workflow
      - first_step: string - First step ID
#}
---
name: {{ expert_name }}
description: "{{ discovery_description | replace('"', '\\"') | replace('\n', ' ') | truncate(200) }}"
---

{{ full_expertise }}

---

## Topics

Detailed documentation on specific subjects within this domain.

$(deepwork topics --expert "{{ expert_name }}")

---

## Learnings

Hard-fought insights from real experiences.

$(deepwork learnings --expert "{{ expert_name }}")

{% if has_workflows %}
---

## Workflows

Expert-owned multi-step workflows:

{% for workflow in workflows %}
- **{{ workflow.name }}**: {{ workflow.summary }}
  - {{ workflow.step_count }} steps
  - Start: `/{{ expert_name }}.{{ workflow.first_step }}`
{% endfor %}
{% endif %}
