---
description: {{ step_description }}
---

# {{ job_name }}.{{ step_id }}

**Step {{ step_number }} of {{ total_steps }}** in the **{{ job_name }}** workflow

**Summary**: {{ job_summary }}

{% if job_description %}
## Job Overview

{{ job_description }}
{% endif %}

{% if dependencies %}
## Prerequisites

This step requires completion of the following step(s):
{% for dep in dependencies %}
- `/{{ job_name }}.{{ dep }}`
{% endfor %}

Please ensure these steps have been completed before proceeding.
{% endif %}

## Instructions

{{ instructions_content }}

{% if user_inputs or file_inputs %}
## Inputs

{% if user_inputs %}
### User Parameters

Please gather the following information from the user:
{% for input in user_inputs %}
- **{{ input.name }}**: {{ input.description }}
{% endfor %}
{% endif %}

{% if file_inputs %}
### Required Files

This step requires the following files from previous steps:
{% for input in file_inputs %}
- `{{ input.file }}` (from step `{{ input.from_step }}`)
  Location: `deepwork/{{ job_name }}/{{ input.file }}`
{% endfor %}

Make sure to read and use these files as context for this step.
{% endif %}
{% endif %}

## Work Branch Management

All work for this job should be done on a dedicated work branch:

1. **Check current branch**:
   - If already on a work branch for this job (format: `deepwork/{{ job_name }}-[instance]-[date]`), continue using it
   - If on main/master, create a new work branch

2. **Create work branch** (if needed):
   ```bash
   git checkout -b deepwork/{{ job_name }}-[instance]-$(date +%Y%m%d)
   ```
   Replace `[instance]` with a descriptive identifier (e.g., `acme`, `q1-launch`, etc.)

3. **All outputs go in the work directory**:
   - Create files in: `deepwork/{{ job_name }}/`
   - This keeps work products organized by job

## Output Requirements

Create the following output(s) in the work directory:
{% for output in outputs %}
- `deepwork/{{ job_name }}/{{ output }}`{% if output.endswith('/') %} (directory){% endif %}
{% endfor %}

Ensure all outputs are:
- Well-formatted and complete
- Committed to the work branch
- Ready for review or use by subsequent steps

## Completion

After completing this step:

1. **Commit your work**:
   ```bash
   git add deepwork/{{ job_name }}/
   git commit -m "{{ job_name }}: Complete {{ step_id }} step"
   ```

2. **Verify outputs**: Confirm all required files have been created

3. **Inform the user**:
   - Step {{ step_number }} of {{ total_steps }} is complete
   - Outputs created: {{ outputs | join(', ') }}
   {% if next_step %}
   - Ready to proceed to next step: `/{{ job_name }}.{{ next_step }}`
   {% else %}
   - This is the final step - the job is complete!
   {% endif %}

{% if next_step %}
## Next Step

To continue the workflow, run:
```
/{{ job_name }}.{{ next_step }}
```
{% else %}
## Workflow Complete

This is the final step in the {{ job_name }} workflow. All outputs should now be complete and ready for review.

Consider:
- Reviewing all work products in `deepwork/{{ job_name }}/`
- Creating a pull request to merge the work branch
- Documenting any insights or learnings
{% endif %}

---

## Context Files

- Job definition: `.deepwork/jobs/{{ job_name }}/job.yml`
- Step instructions: `.deepwork/jobs/{{ job_name }}/{{ instructions_file }}`
