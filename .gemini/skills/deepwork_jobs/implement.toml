# deepwork_jobs:implement
#
# Generates step instruction files and syncs slash commands from the job.yml specification. Use after job spec review passes.
#
# Generated by DeepWork - do not edit manually

description = "Generates step instruction files and syncs slash commands from the job.yml specification. Use after job spec review passes."

prompt = """
# deepwork_jobs:implement

**Step 3/4** in **deepwork_jobs** workflow

> Creates and manages multi-step AI workflows. Use when defining, implementing, or improving DeepWork jobs.

## Prerequisites (Verify First)

Before proceeding, confirm these steps are complete:
- `/deepwork_jobs:review_job_spec`

## Instructions

**Goal**: Generates step instruction files and syncs slash commands from the job.yml specification. Use after job spec review passes.

# Implement Job Steps

## Objective

Generate the step instruction files for each step based on the validated `job.yml` specification, then sync to create the slash commands.

## Task

Read the job.yml and create comprehensive instruction files for each step.

### Process

1. **Create directory structure** (if needed)
   ```bash
   .deepwork/jobs/deepwork_jobs/make_new_job.sh [job_name]
   ```

2. **Read and validate the specification**
   - Read `.deepwork/jobs/[job_name]/job.yml`
   - Extract job name, description, and step details
   - Understand the workflow structure

3. **Generate step instruction files**
   - Create `.deepwork/jobs/[job_name]/steps/[step_id].md` for each step
   - Use templates in `.deepwork/jobs/deepwork_jobs/templates/` as reference
   - Each file must include: Objective, Task, Process, Output Format, Quality Criteria

4. **Sync skills**
   ```bash
   deepwork sync
   ```

5. **Consider rules for the new job**
   - Think about whether rules would help maintain quality
   - If relevant, explain and offer to run `/deepwork_rules.define`

### Instruction File Guidelines

- **Be specific** - tailor to each step's purpose, not generic advice
- **Provide examples** - show what good output looks like
- **Include quality criteria** - how to verify the step is complete
- **Use "ask structured questions"** - for steps that gather user input
- **Align with hooks** - if step has hooks, match the validation criteria

### Templates Available

- `job.yml.template` - Job specification structure
- `step_instruction.md.template` - Step instruction file structure
- `agents.md.template` - AGENTS.md file structure
- Examples: `job.yml.example`, `step_instruction.md.example`

## Completion Checklist

- [ ] All step instruction files created (not stubs)
- [ ] Instructions are specific and actionable
- [ ] Output examples provided
- [ ] Quality criteria defined
- [ ] `deepwork sync` executed successfully
- [ ] Rules considered (suggest if genuinely helpful)

## Output

Complete instruction files in `.deepwork/jobs/[job_name]/steps/` and synced skills in `.claude/skills/`.


### Job Context

Core commands for managing DeepWork jobs. These commands help you define new multi-step
workflows and learn from running them.

The `new_job` workflow guides you through defining and implementing a new job by
asking structured questions about your workflow, understanding each step's inputs and outputs,
reviewing the specification, and generating all necessary files.

The `learn` skill reflects on conversations where DeepWork jobs were run, identifies
confusion or inefficiencies, and improves job instructions. It also captures bespoke
learnings specific to the current run into AGENTS.md files in the working folder.


## Required Inputs


**Files from Previous Steps** - Read these first:
- `job.yml` (from `review_job_spec`)

## Work Branch

Use branch format: `deepwork/deepwork_jobs-[instance]-YYYYMMDD`

- If on a matching work branch: continue using it
- If on main/master: create new branch with `git checkout -b deepwork/deepwork_jobs-[instance]-$(date +%Y%m%d)`

## Outputs

**Required outputs**:
- `steps/` (directory)

## On Completion

1. Verify outputs are created
2. Inform user: "Step 3/4 complete, outputs: steps/"
3. **Workflow complete**: All steps finished. Consider creating a PR to merge the work branch.

---

**Reference files**: `.deepwork/jobs/deepwork_jobs/job.yml`, `.deepwork/jobs/deepwork_jobs/steps/implement.md`
"""